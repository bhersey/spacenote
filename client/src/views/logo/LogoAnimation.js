import React from 'react';
import {compose, lifecycle, pure} from 'recompose';
import Anime from 'react-anime';
import './LogoAnimation.css';

const LogoAnimation = ({contentToAnimate}) => {
    //lets think of an interesting way to use props here, or even apollo to change state with data (or else remove the arguments)

    return (
        <div className="anim">
            <div className="logo-animation">

                {contentToAnimate}

            </div>
        </div>
    )
};

const withLifeCycle = lifecycle({
    componentDidMount() {
        console.log('props', this.props)
        this.setState({
            contentToAnimate:
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 362.25 65.3">
                    <Anime easing="easeInOutQuad"
                           duration={500}
                           loop={false}
                           delay={(el, index) => index * 100}
                           opacity={1}

                           strokeDashoffset={(el) => {
                               let pathLength = 0;
                               if (el.getTotalLength) {
                                   pathLength = el.getTotalLength();
                                   el.setAttribute('stroke-dasharray', pathLength);
                               }
                               return [pathLength, 0];
                           }}>

                        <path className="st1"
                              d="M16.85,44.42c-8,0-14-5-16.14-7.62l7.14-5.7c2.58,2.76,6,4.68,9.24,4.68,3.72,0,5.64-1.92,5.64-4.26,0-5.94-20.28-5.58-20.28-18.6C2.45,5.54,8.75.5,17.57.5c8.1,0,13.8,6,13.8,6L25,12.26s-3.42-3-7.44-3c-3.66,0-5.22,1.5-5.22,3.6,0,5.82,20.1,5.28,20.1,18.54C32.45,40.22,24.41,44.42,16.85,44.42Z"/>
                        <path className="st1"
                              d="M57.71,43.64a10.49,10.49,0,0,1-6.6-2.22V55.16H42.23V12H51l-.18,2.7a8.85,8.85,0,0,1,6.9-3.12c7.14,0,12.6,5.7,12.6,15.9S64.85,43.64,57.71,43.64Zm-2.1-24.36c-1.56,0-2.7.54-4.5,2.22V33.86A6,6,0,0,0,55.61,36c2.94,0,5.88-2.4,5.88-8.52C61.49,21.62,58.55,19.28,55.61,19.28Z"/>
                        <path className="st1"
                              d="M97.19,43.22l.18-2.76a11.4,11.4,0,0,1-7.86,3.18c-4.8,0-10-3-10-8.94,0-7.32,8.82-9.36,15.6-10.92l2.1-.48c-.12-3.12-1.74-4.68-4.68-4.68a8.78,8.78,0,0,0-6.72,3.18l-5.46-4.68c3.84-4,7.32-5.52,12.06-5.52,8.58,0,13.5,4.26,13.5,11.1V43.22Zm.06-14.16c-6.3,1.44-8.58,2.34-8.58,4.5s1.8,2.94,3.54,2.94a6.62,6.62,0,0,0,5-2.46Z"/>
                        <path className="st1"
                              d="M131.33,43.64c-7.92,0-14.64-5.64-14.64-15.9s6.66-16.2,14.64-16.2c4.8,0,8,1.44,11.76,5.76L136.85,22c-1.92-2.4-3.48-2.88-5.4-2.88-2.88,0-5.94,2.46-5.94,8.58,0,5.82,3,8.22,5.94,8.22,1.74,0,3.36-.36,5.4-2.88l6.3,4.38C139.61,42.08,136.07,43.64,131.33,43.64Z"/>
                        <path className="st1"
                              d="M160.85,29.54c.12,4.14,3.12,7,5.94,7,2.16,0,3.6-.72,5.22-2.82l7.32,3.42c-3.36,4.8-7.26,6.54-12.6,6.54-8.4,0-14.64-5.7-14.64-15.9s6.48-16.2,14.22-16.2c8.16,0,14.1,5.82,14.1,16v2Zm.24-6.06h10.38c-.54-3.48-2.46-5.4-5.16-5.4C163.79,18.08,161.69,20.3,161.09,23.48Z"/>
                        <path className="st1"
                              d="M209.51,43.22V25.28c0-2.88-.36-6.12-4.26-6.12a5.68,5.68,0,0,0-4.56,2.28V43.22h-8.94V12h8.76l-.18,2.46A12.37,12.37,0,0,1,208,11.54c8.64,0,10.44,7.14,10.44,13.86V43.22Z"/>
                        <path className="st1"
                              d="M243.71,43.58c-8.34,0-14.52-5.82-14.52-16s6.18-16,14.52-16,14.58,5.82,14.58,16S252.05,43.58,243.71,43.58Zm0-24.24c-2.94,0-5.7,2.34-5.7,8.28,0,6.12,2.76,8.22,5.7,8.22s5.76-2.1,5.76-8.22C249.47,21.68,246.65,19.34,243.71,19.34Z"/>
                        <path className="st1"
                              d="M281.33,43.7c-6.72,0-10.68-4.26-10.68-10.86V19.1h-3.72V12h3.78V6.2l8.82-3.72V12H287V19.1h-7.5V33.26c0,1.44.6,2.82,2.34,2.82a3.06,3.06,0,0,0,2.46-1.2l5,5.34A11,11,0,0,1,281.33,43.7Z"/>
                        <path className="st1"
                              d="M306.41,29.54c.12,4.14,3.12,7,5.94,7,2.16,0,3.6-.72,5.22-2.82l7.32,3.42c-3.36,4.8-7.26,6.54-12.6,6.54-8.4,0-14.64-5.7-14.64-15.9s6.48-16.2,14.22-16.2c8.16,0,14.1,5.82,14.1,16v2Zm.24-6.06H317c-.54-3.48-2.46-5.4-5.16-5.4C309.35,18.08,307.25,20.3,306.65,23.48Z"/>
                    </Anime>
                    {/*<Anime easing="easeOutCirc"*/}
                           {/*duration={300}*/}
                           {/*loop={false}*/}
                        {/*// direction={'reverse'}*/}
                           {/*delay={(el, index) => index * 250 + 1000}*/}

                           {/*strokeDashoffset={(el) => {*/}
                               {/*let pathLength = 0;*/}
                               {/*if (el.getTotalLength) {*/}
                                   {/*pathLength = el.getTotalLength();*/}
                                   {/*el.setAttribute('stroke-dasharray', pathLength);*/}
                               {/*}*/}
                               {/*return [pathLength, 0];*/}
                           {/*}}>*/}

                        {/*<path className="st1"*/}
                              {/*d="M209.51,43.22V25.28c0-2.88-.36-6.12-4.26-6.12a5.68,5.68,0,0,0-4.56,2.28V43.22h-8.94V12h8.76l-.18,2.46A12.37,12.37,0,0,1,208,11.54c8.64,0,10.44,7.14,10.44,13.86V43.22Z"/>*/}
                        {/*<path className="st1"*/}
                              {/*d="M243.71,43.58c-8.34,0-14.52-5.82-14.52-16s6.18-16,14.52-16,14.58,5.82,14.58,16S252.05,43.58,243.71,43.58Zm0-24.24c-2.94,0-5.7,2.34-5.7,8.28,0,6.12,2.76,8.22,5.7,8.22s5.76-2.1,5.76-8.22C249.47,21.68,246.65,19.34,243.71,19.34Z"/>*/}
                        {/*<path className="st1"*/}
                              {/*d="M281.33,43.7c-6.72,0-10.68-4.26-10.68-10.86V19.1h-3.72V12h3.78V6.2l8.82-3.72V12H287V19.1h-7.5V33.26c0,1.44.6,2.82,2.34,2.82a3.06,3.06,0,0,0,2.46-1.2l5,5.34A11,11,0,0,1,281.33,43.7Z"/>*/}
                        {/*<path className="st1"*/}
                              {/*d="M306.41,29.54c.12,4.14,3.12,7,5.94,7,2.16,0,3.6-.72,5.22-2.82l7.32,3.42c-3.36,4.8-7.26,6.54-12.6,6.54-8.4,0-14.64-5.7-14.64-15.9s6.48-16.2,14.22-16.2c8.16,0,14.1,5.82,14.1,16v2Zm.24-6.06H317c-.54-3.48-2.46-5.4-5.16-5.4C309.35,18.08,307.25,20.3,306.65,23.48Z"/>*/}

                    {/*</Anime>*/}
                </svg>
        })
    }
});

const EnhancedLogoAnimation = compose(
    withLifeCycle,
    pure
)(LogoAnimation);

export default EnhancedLogoAnimation
